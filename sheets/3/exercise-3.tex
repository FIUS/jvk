\excercise{Operationen}

\begin{enumerate}
	\item 
		Passe die Main Operation an die Aufgabe an. \\
		Verwende \lstinline{Sheet3Task3} und \lstinline{Sheet3Task3Verifier}.
	\item
		Lass Neo das folgende Muster laufen:
		\begin{itemize}
			\item[] laufe 2 Schritte
			\item[] …drehe dich nach rechts
			\item[] …laufe einen Schritt
			\item[] …drehe dich nach links
			\item[] …laufe 3 Schritte
			\item[] …drehe dich nach links
			\item[] …laufe 2 Schritte
			\item[] …drehe dich nach rechts
			\item[] …laufe 2 Schritte
			\item[] …drehe dich nach rechts
			\item[] …laufe einen Schritt
			\item[] …drehe dich nach links.
		\end{itemize}
	\item
		Laufe das Muster aus b) mithilfe einer For-Schleife 3 Mal.
\end{enumerate}


\begin{Infobox}[Operation um Code mehrfach zu verwenden]
	Wenn man den selben Code an mehreren Stellen verwenden möchte ist es nicht sinnvoll diesen mehrmals zu kopieren. 
	Stattdessen kann man den Code in eine Operation auslagern. 
	Dann kann man den gesamten Code an verschiedenen Stellen mit nur einer Zeile aufrufen.
	
	\begin{lstlisting}[xleftmargin=0.5cm]
public class DemoTask implements Task {
    
    @Override
    public void run(Simulation sim) {
        Neo neo = new Neo();
        // Anfang für Beispiel weggelassen
        
        neo.collectCoin();
        this.moveTwiceAndTurn(neo);
        neo.collectCoin();
        this.moveTwiceAndTurn(neo);
    }
    
    public void moveTwiceAndTurn(Neo neo) {
        // move
        neo.move();
        neo.move();
        // and turn
        neo.turnClockWise();
    }
    
}
	\end{lstlisting}

	In Aufgabenblatt 2 hast du schon eine Operation auf Neo implementiert.
	Da auch die Operation im Beispiel ein Kommando ist, hat sie ebenfalls keinen Rückgabewert.
	Deshalb ist hier vor dem Operationsnamen \lstinline{moveTwiceAndTurn} \lstinline{void} angegeben.

	Anders als bei dem Kommando in der Klasse Neo können wir diesmal nicht mit \lstinline{this} auf die Operationen von einem Objekt der Klasse \lstinline{Neo} zugreifen.
	In einer Task Klasse haben wir mit \lstinline{this} nur Zugriff auf die Operationen in der Task Klasse selbst.
	In dem Beispiel oben können wir \lstinline{this.run(/*...*/)} oder \lstinline{this.moveTwiceAndTurn(/*...*/)} aufrufen.

	Achtung: Wenn ihr in \lstinline{moveTwiceAndTurn} wieder \lstinline{this.moveTwiceAndTurn(/*...*/)} aufruft, habt ihr eine Rekursion gebaut.
	Theoretisch könnte die Rekursion endlos weitergehen, aber Java bricht eine endlose Rekursion ab einem bestimmten Zeitpunkt ab.
	(Wenn ihr mehr über Rekursion wissen wollt, dann sucht am besten auf Google nach Rekursion.)

	Da wir die Operationen von Neo nicht über \lstinline{this} aufrufen können, müssen wir der neuen Operation Neo als Parameter übergeben.
	Parameter werden in Aufgabe 4 nochmal genauer erklärt.
\end{Infobox}


\begin{enumerate}\setcounter{enumi}{3}
	\item 
		Lagere nun den Code aus b) in die gegebene Operation \lstinline{movePattern} aus.

	\item
		Ersetze nun den Code in der Schleife aus c) durch die Operation \lstinline{movePattern}.

	\item
		In der Klasse \lstinline{Sheet3Task3} findest du auch die folgende Operation.

		\begin{lstlisting}
private void dropFourCoinsAndTurnLeft(Neo neo) {
    //write the Code for f) here
    //make neo drop four coins
    //make neo turn Left
}
		\end{lstlisting}

		Neo soll in dieser Operation 4 Münzen fallen lassen und sich nach links drehen. 
		Ersetze den Kommentar in der Operation durch die passenden Kommandos.

	\item
		Führe nun in der Schleife aus c) nach \lstinline{movePattern} einmal \lstinline{dropFourCoinsAndTurnLeft} aus.
		Der Schleifenkörper sollte beide Operationen enthalten.

	\item
		Nun möchten wir eine eigene Operation schreiben. 
		Kopiere dazu erst mal die \lstinline{movePattern} Operation und ändere den Namen in etwas anderes (z.B. \lstinline{moveStraight}).
		Ersetze nun in der Schleife aus c) \lstinline{movePattern} durch die neue Operation.

		Du solltest jetzt in der Klasse \lstinline{Sheet3Task3} zwei Operationen haben, die sich nur im Namen unterscheiden.

	\item
		Schreibe die Operation aus h) so um, dass Neo sich nur durch geradeaus laufen, nach Ausführung der Operation, an der selben Stelle befindet wie nach dem Ausführen der Operation \lstinline{movePattern}.
		Wenn Neo an der gleichen Position startet, dann sollte er, egal ob \lstinline{movePattern} oder die neue Operation ausgeführt wurde, an der gleichen Position stehenbleiben.

		Teste deine Implementierung und überprüfe ob die Münzen an den gleichen Stellen abgelegt werden, wenn du in der Schleife \lstinline{movePattern} durch deine neue Operation ersetzt hast.
\end{enumerate}
\newpage
