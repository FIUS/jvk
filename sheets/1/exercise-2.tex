% !TeX root = ./jvk-blatt1.tex

\excercise{Nachschlagwerk: Syntax, Codestil und einige \\nützliche Shortcuts}
\label{ex2}

Jetzt folgt ein Nachschlagwerk auf das du immer wieder zurückgehen kannst bei den folgenden Aufgaben.
Du kannst es bereits mal durchlesen, es ist aber nicht schlimm, wenn du noch nicht alles versteht. Am Ende des Nachschlagwerks sind auch noch einige nützliche Shortcuts hinterlegt.

\subsection*{Syntax}
\noindent
In diesem Teil zeigen wir dir die Syntax von Java.
Die Syntax beschreibt, wie der Code aufgebaut und geschrieben werden muss, sodass er von einem Computer verstanden wird.\\
Es kommen jetzt viele Definitionen, du musst dir aber keine Sorgen machen, wenn du nicht alles direkt verstehst.
Nimm diesen Teil als Referenz zum Nachschauen, wenn du dir später bei etwas nicht sicher bist.

\begin{Infobox}

	\subsubsection*{Kommentare:}
	Kommentare sind Teile des Codes, die vom Computer ignoriert werden.
	Sie werden genutzt, um anderen (aber auch dir selbst) kenntlich zu machen, was im Code passiert, was noch verändert werden sollte oder um allgemein Anmerkungen zu hinterlassen.
\end{Infobox}

\begin{lstlisting}[title=\textbf{Kommentar Beispiel}]
	// Dies ist ein einfacher Kommentar über eine Zeile.
	// Er wird mit // gestartet und nimmt die gesamte Zeile hinter sich ein.
	someCode.run(); //Kommentare sind auch nach Operationen möglich.
	// Kann man das auch vor Operationen in der selben Zeile schreiben ?
	/*
	* Dies ist ein Block Kommentar.
	* Diese können sich auch über mehrere Zeilen erstrecken.
	* Um die Lesbarkeit zu verbessern, werden die Zeilen dazwischen meist
	* mit einem * begonnen.
	*/
\end{lstlisting}
\lstset{
	basicstyle=\small
}
\begin{Infobox}

	\subsubsection*{Klassen:}
	Klassen sind Baupläne für Objekte.
	In diesen können Operationen definiert werden, welche dann den Objekten zur Verfügung stehen.\\
	Eine Klasse beginnt immer mit dem \lstinline{class} Schlüsselwort, gefolgt von ihrem Namen.\\
	Diesen kannst du fast frei wählen, nur spezielle Schlüsselwörter wie zum Beispiel \lstinline{class} sind verboten.
	Anschließend folgt ein Paar geschweifter Klammern \{ \}, in denen der Inhalt der Klasse geschrieben wird.\\
	In Java muss der Dateiname gleich dem Klassennamen sein. Z.B. Klasse \q{Hund} $\rightarrow$ Datei \q{Hund.java}.
\end{Infobox}


\begin{lstlisting}[title=\textbf{Klassen Syntax}]
	// < > wird immer durch das ersetzt was in < > beschrieben wird
	public class <NameDerKlasse>{ // Beginn der Klasse
		/*
		* Inhalt der Klasse.
		* Um die Lesbarkeit zu verbessern wird
		* Code innerhalb geschweifter Klammern eingerückt.
		*/
		// Definition einer Operation (Siehe nächsten Eintrag)
		public <Rückgabetyp> <operationsName>(<Typ> <parameterName>, ...){
			// Inhalt der Operation
		}
		...
	}
\end{lstlisting}

\begin{lstlisting}[title=\textbf{Klassen Beispiel}]
	public class Hund{
		public void wuff(){
			// Code um zu bellen
		}
	}
\end{lstlisting}
\begin{Infobox}
	\subsubsection*{Operationen}
	\begin{itemize}
		\item Operationen: Sie sind Gruppierungen von Anweisungen (da wir diese vielleicht häufiger ausführen wollen).
			Dieser Code kann mithilfe des Operationsnamen über die Objekte einer Klasse aufgerufen werden.\\
			Eine Operation besitz einen Namen. Sie können auch Parameter und Rückgabewerte haben. (sie besitzen auch noch eine Sichtbarkeit, wir verwenden im Vorkurs immer \lstinline{public} um es zu vereinfachen)
		\item Rückgabewert: Das ist quasi das Ergbenis der Operation das wollen wir zurückgeben um ihn weiterzunutzen.
			Sollte eine Operation nichts zurückgeben so hat sie den Rückgabewert \lstinline{void}.
		\item Parameter: Parameter sind Variablen (Platzhalter für Werte, wie ''x'' in Mathe), die es ermöglichen einen Wert zu übergeben. Diese Variable ist nur innerhalb der Operation im Code verfügbar.\\
			Sie werden in den runden Klammern nach dem Namen der Operation aufgelistet.
			Wenn man eine Operation aufruft und ein Objekt dort übergibt, wird dieses Objekt Argument genannt.
		\item Operationrumpf: Befindet sich zwischen den geschweiften Klammern. Hier ist der eigentliche Code der Operation.
	\end{itemize}

\end{Infobox}

\begin{lstlisting}[title=\textbf{Operations Syntax}]
	public <RückgabeTyp> <OperationsName>(){
		// Inhalt der Operation
	}
	public <RückgabeTyp> <OperationsName>(<Typ> <ParameterName>, ...){
		// Inhalt der Operation
	}
\end{lstlisting}

\newpage

\begin{lstlisting}[title=\textbf{Operations Beispiel}]
	public void springen(){
		// Code um zu springen
	}

	public String getName(Hund hund){
		return hund.name;
	}
\end{lstlisting}

\begin{Infobox}

	\subsubsection*{Objekte erzeugen:}
	Klassen sind Baupläne für Objekte. Quasi wenn die Klasse Hund ist, dann ist Bello und Doggo Instanzen (Objekte) der Klasse Hund.\\
	Um ein Objekt zu erzeugen wird das \lstinline{new} Schlüsselwort verwendet.
	Man schreibt dann \lstinline{new } gefolgt von dem Klassennamen und ein paar Klammern ().
\end{Infobox}
\begin{lstlisting}[title=\textbf{Objekt erstellen Syntax}]
	new <KlassenName>(<MöglicheParameter>); // Ein Objekt wird erzeugt
\end{lstlisting}

\begin{lstlisting}[title=\textbf{Objekt erstellen Beispiel}]
	new Hund("Bello"); // Ein Hund mit dem Namen Bello wird erzeugt
\end{lstlisting}
\begin{Infobox}
	\subsubsection*{Variablen:}
	Variablen werden genutzt, um (temporär) Werte zu speichern.
	Sie sind in den Fällen nützlich, in denen du einen bestimmten Wert mehrfach im selben Code nutzen willst.
	Außerdem auch wenn ein Wert beim Starten des Programms noch nicht fest steht oder sich noch ändert.\\

	Stell dir Variablen wie Schubladen vor. Du kannst Sachen in die Schubladen reinlegen um sie später wieder zu benutzen. Um die Sachen aber wieder finden zu können geben wir den Schubladen Namen.\\

	Variablen besitzen immer einen Typ (was man in die Schublade legen darf / passt) und einen Namen (Name der Schublade).
	Mit einem = kann einer Variable ein Wert zugewiesen werden (Etwas in die Schublade legen).\\
	Über den Namen der Variable kann dann auf dessen Wert (Inhalt der Schublade) zugegriffen werden.\\

	Einige wichtige Typen sind:
	\begin{itemize}
		\item \lstinline{String}: zum speichern von Text, z.B. ''Das ist ein String''
		\item \lstinline{boolean}: \lstinline{true} oder \lstinline{false} (wahr oder falsch), wird später noch genauer erklärt
		\item \lstinline{Integer}: positive und negative ganze Zahlen 
		\item \lstinline{Double}: positive und negative Zahlen, welche Nachkommastellen haben können
	\end{itemize}

	Wenn man ein Objekt erzeugt, weist man es oft direkt einer Variable zu, damit man es später im Code noch benutzen kann.
\end{Infobox}

\newpage

\begin{lstlisting}[title=\textbf{Variablen Syntax}]
	<KlassenName> <Name>; // Eine Variable wird erzeugt, ihr ist noch kein Wert zugewiesen.

	<KlassenName> <Name> = <Wert>; // Eine Variable wird erzeugt und ihr wird ein Wert zugewiesen.

	<Name> = <Wert>; // Einer bestehenden Variable wird ein neuer Wert zugewiesen.

	<KlassenName> <Name> = new <KlassenName>(); // Einer neuen Variable wird eine neue Instanz eines Objekts zugewiesen.

	<KlassenName> <Name> = <NameEinerAnderenVariable>; // Einer neuen Variable wird der Wert einer anderen Variable zugewiesen. Das geht natürlich nur wenn die Varaiblen das selbe speichern können (den selben Typ haben).
\end{lstlisting}
\begin{lstlisting}[title=\textbf{Variable Beispiel}]
	String hundeName = "Bello";

	Hund meinHund = new Hund(hundeName);
\end{lstlisting}
\begin{Infobox}
	\subsubsection*{Kommandos und Abfragen:}
	\begin{itemize}
		\item Kommando: Sie ändern eventuell was an dem Objekt z.B. benennen den Hund um
		\item Abfragen: Sie ändern nichts an dem Objekt, geben dafür aber was zurück z.B. den Hundename
	\end{itemize}
	Um Operationen eines Objekts aufzurufen, wird zuerst der Objektname geschrieben, gefolgt von einem Punkt und dem Operationsname.
	Am Ende stehen paar Rundeklammern \q{()}, in denen Parameter stehen können.\\
	{\color{red} Wichtig: } Operationen können nur auf Objekten und nicht auf Klassen aufgerufen werden.
	Es gibt hier einen Sonderfall, diesen wirst du in PSE kennenlernen.
\end{Infobox}
\begin{lstlisting}[title=\textbf{Kommando/Abfrage Syntax}]
	<ObjektName>.<OperationsName>();

	<ObjektName>.<OperationsName>(<Argument>);
\end{lstlisting}

\begin{lstlisting}[title=\textbf{Kommando/Abfrage Beispiel}]
	// meinHund.setName(); soll dafür sorgen dass der Hund von Bello zu Doggo umbenannt wird. Er ändert also etwas an dem Objekt.
	meinHund.setName("Doggo");

	// meinHund.getName(); gibt den Namen des Hundes zurück, ändert also nichts am Obejekt selber sondern gibt Eigenschaften davon zurück.
	meinHund.getName();
\end{lstlisting}

\subsection*{Namen und Codestyle}
Wie du wahrscheinlich schon gemerkt hast, kann Code schnell überfordern und verwirren.\\
Da man dieses Problem in der Informatik oft antrifft, vor allem wenn man mit Anderen zusammen arbeitet, gibt es Konventionen (Regeln an die wir uns alle halten wollen) wie der Code geschrieben werden sollte um die Lesbarkeit und das Verständnis zu verbessern.

\vspace{5mm}

\subsubsection*{Konvention Namen:}

\begin{Infobox}
	Die Java-Syntax verbietet bereits, dass:

	\begin{itemize}
		\item Schlüsselwörter(\lstinline{void}, \lstinline{class}, ...) als Name genutzt werden.
		\item Namen Leerzeichen beinhalten.
		\item Namen mit Zahlen beginnen.
	\end{itemize}
\end{Infobox}
\vspace{5mm}
\begin{Infobox}
	Formulierungen auf die man achten sollte:
	\begin{itemize}
		\item Variablennamen sollen selbsterklärend sein $\rightarrow$ \lstinline{favouriteDog} statt \lstinline{fD}
		\item Operationen sollen Verben im Namen haben $\rightarrow$ ''makeNoise'' statt ''laut''
		\item Abfragen sollen mit \lstinline{get} beginnen $\rightarrow$ ''getName''
		\item Kommandos, die einen Wert setzen, sollen mit \lstinline{set} beginnen $\rightarrow$ ''setName''
		\item Keine Umlaute (ä, ö, ß,...)

	\end{itemize}
\end{Infobox}

\vspace{5mm}

\noindent
Allgemein sollen alle Namen auf Englisch formuliert werden.
Variablen und Operationen werden immer mit einem Kleinbuchstaben angefangen.\\

\noindent
Falls ein Name aus mehreren Wörtern besteht, schreibt man diese trotzdem zusammen, aber den Anfangsbuchstaben aller neuen Wörter groß. Z.B. favouriteDogFood.\\
Diese Schreibweise nennt man auch \lstinline{camelCase}.\\

\noindent
Namen sollen selbsterklärend sein, damit ist erkennbar was sie tun bzw. wofür sie stehen.\\

\noindent
Für Klassen gelten fast dieselben Richtlinien, nur ist hier auch das erst Wort groß.
Das nennt man dann \lstinline{PascalCase} oder \lstinline{UpperCamelCase}. Z.B. DogFood.

\vspace{5mm}

\begin{lstlisting}[title=\textbf{Beispiel gute Namensgebung}]
	class DogOwner {

		void talkAboutTheDog(Dog dog){
			String ownerName = "FIUS";
			// Talk about the Dog until stopped
		}
	}
\end{lstlisting}

\subsubsection*{Einrückungen:}
Um direkt auf einen Blick zu erkennen, wo die Operation anfängt und wo sie endet, rückt man den Code in einer Operation (übrigens auch in Klassen) um eine Stufe ein (Eine \fbox{TAB} Stufe).\\

\noindent
{\color{red} Wichtig: }Achte unbedingt darauf das alle Klammern, die du öffnest auch wieder in der richtigen Reihenfolge schließest werden!


\begin{lstlisting}[title=\textbf{Beispiel gute Namensgebung}]
	// Code außerhalb einer Klammerung, nicht eingerückt
	public class RandomClass{
		public void operation1(){
			// Operationsinhalt 2-mal eingerückt
		}
		// Klasseninhalt 1-mal eingerückt
		public void operation2(){
			// Operationsinhalt 2-mal eingerückt
		}
	}
\end{lstlisting}

\begin{lstlisting}[title=\textbf{Beispiel schlechte Einrückung}]
	public class RandomClass{
	public void operation1(){
// Operationsinhalt
	}
			public void operation2(){
		// Operationsinhalt
			}
}
\end{lstlisting}

\begin{Infobox}[HowTo: Auskommentieren]
    Manchmal möchte man, dass bestimmter Code nicht ausgeführt wird.
    Vielleicht möchten man ihn erst später ausführen, ihn einfach nicht verlieren oder etwas Neues ausprobieren.
    In solchen Fällen Kommentieren man die Code-Zeilen einfach aus.
    Dies geht, indem du in der Code-Zeile zwei Schrägstriche (\emph{eng.} slashes)(\lstinline{//}) voranstellst.
    Als Beispiel schaue dir folgenden Code an:\\

    \hfill
    \begin{minipage}{.96\textwidth}
        \begin{lstlisting}
    public void run(Simulation sim) {
        PlayfieldModifier pm =
                new PlayfieldModifier(sim.getPlayfield());
        pm.placeEntityAt(new Coin(), new Position(0, 0));
    }
        \end{lstlisting}
    \end{minipage}

    Wenn du nun die letzte Zeile auskommentieren willst, dann stellt sich der Code wie folgt dar.\\

    \hfill
    \begin{minipage}{.96\textwidth}
        \begin{lstlisting}
    public void run(Simulation sim) {
        PlayfieldModifier pm =
                new PlayfieldModifier(sim.getPlayfield());
        //pm.placeEntityAt(new Coin(), new Position(0, 0));
    }
        \end{lstlisting}
    \end{minipage}

    Alles ab den zwei Schrägstrichen bis zum Zeilen Ende wird nun vom Computer ignoriert, was durch eine andere Färbung in Eclipse deutlich wird.
\end{Infobox}


\begin{Infobox}[Fehler]
    Einige Aufgaben in Blatt 1 (auch auf den anderen Blättern) verlangen von dir den Code absichtlich kaputtzumachen.
    Ziel davon ist es das du die verschiedenen Fehler bereits kennenlernst.
    Achte also bei solchen Aufgaben darauf, welche Änderung zu welchem Fehler geführt hat.
    Falls du nun später einen Fehler beim Programmieren machst, kann dir dieses Wissen helfen den Code zu reparieren.

    Du brauchst auch keine Angst haben, dass du etwas nachhaltig kaputt machen könntest.
    Eclipse hat eine \q{Undo}-Funktion welche Änderungen rückgängig macht.
    Diese findest du im Menü oben unter \fbox{edit} (deutsch \fbox{Bearbeiten}) oder über wird ausgeführt durch \fbox{Strg + z}.
    Falls du trotzdem Hilfe brauchst, kannst (\emph{und sollst!}) du dich gerne bei den Tutoren melden.
\end{Infobox}


\begin{Infobox}[Dokumentation / JavaDoc]
    Da du normalerweise nicht alleine an dem Code arbeitest musst du ihn nicht nur übersichtlich halten, sondern auch dokumentieren.

    Wie du vielleicht bereits gemerkt hast, ist das sehr hilfreich eine gute Dokumentation zu haben.
    Ziel sollte es also sein so gut wie möglich zu beschreiben was bei einer Operation passiert (auch welche Parameter sie braucht und was sie zurück gibt) oder wofür eine Klasse zuständig ist.\\

    Diese Dokumentation kannst du zum Beispiel online nachschauen oder direkt in der IDE (Eclipse) indem du den Mauszeiger über den Namen einer Operation bewegst, wird ein Kasten mit der Dokumentation dieser Operation angezeigt.
\end{Infobox}

\begin{Infobox}[Autocompletion]
    Sobald du ein Objekt instanziiert (erstellt) hast und in eine Variable speicherst, kannst du hinter den Variablennamen einen Punkt '.' eingeben.\\
    Jetzt wird eine Liste von allen möglichen Attributen und Operationen angezeigt, die zu dem Objekt gehören.
    So kann man recht schnell alle möglichen Operationen durchsuchen, die mit diesem Objekt möglich sind.\\
    Falls du also mal nicht weiter weißt, probiere doch einfach mal das und nutze das am vielversprechende.\\

    Alle Objekte in Java haben die Operationen \lstinline{equals(...)}, \lstinline{getClass()}, \lstinline{hashCode()}, \lstinline{notify()}, \lstinline{notifyAll()}, \lstinline{toString()} und \lstinline{wait(...)}.
    Diese Operationen kannst du meistens ignorieren.
    Am häufigsten werden von diesen Operationen die Operationen \lstinline{equals(...)} und \lstinline{toString()} benötigt.
\end{Infobox}

\begin{Infobox}[Nützliche Shortcuts]
    Wenn du die Maus über z.B. \lstinline{Game} bewegst, siehst du ein Overlay mit der Dokumentation.
	Das funktioniert auch an anderen Stellen im Code. Sollte sich das Overlay nicht öffnen, dann kannst du \fbox{F2} drücken.\\
	\\
	Wenn du \fbox{Strg + Shift + f} (Shift ist die Taste mit der man Großbuchstaben schreibt) drückst, formatiert Eclipse den Code für dich.
	Dies ändert nichts an der Funktionsweise des Codes, sondern sortiert den Code nur so um, dass er besser lesbar und einheitlich aussieht.\\
	\\
	Mit der Tastenkombination \fbox{Shift + Alt + r} kommst du in den \q{Refactor}-Modus, in dem du alle Vorkommen des Namens gleichzeitig umbenennen kannst.
	Das Gleiche geht auch über Rechtsklick > \fbox{Refactor} > \fbox{Rename}.\\
	\\
	Mit \fbox{Strg + Shift + l} kannst du eine Liste alle Tastenkombinationen ansehen.\\
	\\
	Wenn du \fbox{Strg} drückst während du auf einen Klassennamen oder einen Operationsnamen im Code klickst, öffnet Eclipse die entsprechende Java-Datei wo sich diese Operation oder Klasse befindet.\\
	Wenn du \fbox{Strg + F11} drückst wird das Programm gestartet/so zu sagen der Run Button gedrückt.\\
	Mit \fbox{Strg + Space} kannst du Autocompletion triggern.
\end{Infobox}

\newpage
