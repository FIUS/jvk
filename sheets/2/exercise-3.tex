% !TEX root = ./jvk-blatt2.tex

\excercise{Vor- und Nachbedingungen}

In dieser Aufgabe wollen wir eine neue Funktion von Neo einführen. 
Neo kann Goldmünzen mit den Kommandos \lstinline{collectCoin()} und \lstinline{dropCoin()} aufheben und niederlegen. 

\begin{enumerate}
    \item Instanziiere die Simulation wie bekannt (\lstinline{Sheet2Task3} und \lstinline{Sheet2Task3Verifier}) und mache dich mit dieser vertraut.
    \item Auf dem Spielfeld siehst du viele Goldmünzen.
        Wenn Neo auf einem Feld mit Münzen steht kann er mit dem Kommando \lstinline{collectCoin()} eine Münze aufheben.\\
        Lass Neo nun alle Goldmünzen auf dem Spielfeld aufheben.
    \item Mit dem Kommando \lstinline{dropCoin()} kannst du eine Münze wieder auf dem Spielfeld ablegen auf welchem sich Neo befindet.\\
        Verwende das \lstinline{dropCoin()} Kommando, um alle Münzen die Neo aufgesammelt hat auf das Feld (3,3) zu legen.\\
        Hinweis: auf dem Spielfeld liegen genau 6 Münzen.
\end{enumerate}


\begin{Infobox}[Vor- und Nachbedingungen]
    Damit Operationen richtig funktionieren, müssen oft bestimme Bedingungen gelten, bevor man diese aufruft.\\
    Z.B. darf sich bei dem \lstinline{move()} Kommando, wie wir in der letzten Aufgabe gelernt haben, vor dem Spieler keine Wand befinden.\\
    Da diese Bedingungen gelten müssen bevor man die Operation aufruft, nennt man sie Vorbedingungen.\\
    Meistens findet man diese Vorbedingungen im Javadoc Kommentar (Dokumentation) der Operation. Welchen man sehen kann wenn man mit der Maus, wie in Blatt 1 Aufgabe 2 beschrieben, über dem Funktionsnamen hovert.\\

    So wie bei Vorbedingungen bestimmte Zustände gelten müssen bevor man die Operation aufrufen darf, sind Nachbedingungen Zustände die nach einer Operation gelten.\\
    Nach dem Ausführen von \lstinline{move()} hat sich Neo eine Position nach vorne (in seine Blickrichtung) bewegt.\\
    Das gilt allerdings, nur wenn vor dem Aufruf von \lstinline{move()} die Vorbedingungen erfüllt sind z.B. es darf sich keine Wand vor Neo befinden.\\


\end{Infobox}
\begin{Infobox}[Javadoc]
    Im Zusammenhang mit Vor- und Nachbedinungen, ist wichtig zu erwähnen, dass diese im Javadoc einer Operation zu finden sind.

    Dieser befindet sich als Kommentar vor einer Operation oder Klasse.

    Wie andere Kommentare wird er nicht als Programmcode ausgeführt.
    Eclipse kann diese Kommentare aber benutzen und zeigt sie an, wenn man mit der Maus über einen Aufruf einer Operation fährt.

    \begin{lstlisting}[numbers=none]
    /**
     * Turn Neo around.
     *
     * This operation turns Neo around by calling
     * turnClockWise twice. This operation will fail 
     * if Neo is not on a Playfield of a Simulation.
     *
     */
     public void turnAround() {
        this.turnClockWise();
        this.turnClockWise();
    }
    \end{lstlisting}

    Ein Javadoc Kommentar unterscheidet sich nur dahingehend von einem normalen Kommentar, dass dieser mit \lstinline{/**} statt \lstinline{/*} anfängt.\\
    
    Der erste Satz ist eine kurze Beschreibung was die Operation macht.
    Gefolgt davon kommt eine ausführliche Beschreibung der Operation oder Klasse.\\

    Der Kommentar sollte alles enthalten, was man jemals über die Operation wissen muss.

    In dem Javadoc Kommentar soll dabei insbesondere wir vorhin schon erwähnt Vorbedingungen beschrieben werden, also was der Programmierer beachten muss bevor er die Operation nutzen darf.
    Wenn dies nicht passiert oder das Javadoc ungenau ist, ist es sehr wahrscheinlich das daraus ein Bug entstehen kann.

    Mit \lstinline{Strg + Linksclick} kannst du dir den Javadoc zu einer Funktion asnzeigen lassn.

\end{Infobox}

\begin{enumerate}\setcounter{enumi}{3}
    \item Die Kommandos \lstinline{collectCoin()} und \lstinline{dropCoin()} funktionieren nicht immer.
        Welche Bedingungen müssen stimmen damit du die Kommandos korrekt benutzen kannst und wann funktionieren sie nicht?\\
        \textbf{Tipp}: Überprüfe deine Vermutung auch auf dem Spielfeld.\\
\end{enumerate}
