% !TEX root = ./jvk-blatt2.tex

\excercise{Vor- und Nachbedingungen}

In dieser Aufgabe wollen wir eine neue Funktion von Neo einführen.
Neo kann Goldmünzen mit den Kommandos \lstinline{collectCoin()} und \lstinline{dropCoin()} aufheben und niederlegen.

\begin{enumerate}
\item Instanziiere die Simulation wie bekannt (\lstinline{Sheet2Task3} und \lstinline{Sheet2Task3Verifier}) und mache dich mit dieser vertraut.
\item Auf dem Spielfeld siehst du viele Münzen.
Wenn Neo auf einem Feld mit Münzen steht, kann er mit dem Kommando \lstinline{collectCoin()} eine Münze aufheben.\\
Lass Neo nun alle Münzen auf dem Spielfeld aufheben.
\item Mit dem Kommando \lstinline{dropCoin()} kannst du eine Münze wieder auf dem Spielfeld ablegen, auf welchem sich Neo befindet.\\
Verwende das \lstinline{dropCoin()} Kommando, um alle Münzen die Neo aufgesammelt hat auf das Feld (3,3) zu legen.\\
\textbf{Hinweis:} auf dem Spielfeld liegen genau 6 Münzen.
\end{enumerate}


\begin{Infobox}[Vor- und Nachbedingungen]
    Damit Operationen richtig funktionieren, müssen oft bestimme Bedingungen gelten, bevor man diese aufruft.\\
Z.B. darf sich bei dem \lstinline{move()} Kommando, wie wir in der letzten Aufgabe gelernt haben, vor dem Spieler keine Wand befinden.\\
Da diese Bedingungen gelten müssen bevor man die Operation aufruft, nennt man sie Vorbedingungen.\\
Meistens findet man diese Vorbedingungen im Javadoc Kommentar (Dokumentation) der Operation. Welchen man sehen kann, wenn man mit der Maus, über dem Funktionsnamen hovert.\\

So wie bei Vorbedingungen bestimmte Zustände gelten müssen bevor man die Operation aufrufen darf, sind Nachbedingungen Zustände die nach einer Operation gelten.\\
Nachdem Ausführen von \lstinline{move()} hat sich Neo eine Position nach vorne (in seine Blickrichtung) bewegt.\\
Das gilt allerdings, nur wenn vor dem Aufruf von \lstinline{move()} die Vorbedingungen erfüllt sind z.B. es darf sich keine Wand vor Neo befinden.\\


\end{Infobox}
\begin{Infobox}[JavaDoc]
    Im Zusammenhang mit Vor- und Nachbedingungen, ist wichtig zu erwähnen, dass diese neben einer detaillierteren Beschreibung der Funktion im Javadoc einer Operation zu finden sein sollten.
JavaDoc befindet sich als spezieller Kommentar in Quellcode vor einer Operation oder Klasse.
Wie andere Kommentare wird er nicht als Programmcode ausgeführt, sondern dient zur Dokumentation der Funktion der zugeordneten Elemente.

In den letzten Aufgaben haben wir bis jetzt immer recht \enquote{einfache} Methoden verwendet, deren Zweck Du vielleicht ganz gut aus dem Quellcode oder Beispielen ableiten konntest.
Beim Schreiben von eigenen Methoden ist es daher sehr wichtig darauf zu achten, dass der Name der Funktion und die Werte, die diese ''empfangen'' kann, für sich sprechende Namen haben.
Vielleicht sind Dir die Funktion von machen Methoden allerdings auch noch nicht ganz klar geworden oder der Name hat zu wenig Kontext hergegeben, um die Funktion der Methode
zu verstehen.
Genau hier setzt die Dokumentation in Form von JavaDoc ein.

    \begin{lstlisting}[numbers=none]
    /**
     * Turn Neo around.
     *
     * This operation turns Neo around by calling
     * turnClockWise twice. This operation will fail 
     * if Neo is not on a Playfield of a Simulation.
     *
     */
     public void turnAround() {
        this.turnClockWise();
        this.turnClockWise();
    }
    \end{lstlisting}

    Ein Javadoc Kommentar unterscheidet sich nur dahingehend von einem normalen Kommentar, dass dieser mit \lstinline{/**} statt \lstinline{/*} anfängt.\\

Der erste Satz ist eine kurze Beschreibung was die Operation macht.
Gefolgt davon kommt eine ausführliche Beschreibung der Operation oder Klasse.\\

Der Kommentar sollte alles enthalten, was man jemals über die Operation wissen muss.

Im Javadoc Kommentar sollen dabei insbesondere wie wir vorhin schon erwähnt haben, Vorbedingungen beschrieben werden, also was der Programmierer beachten muss bevor er die Operation nutzen darf.
Wenn dies nicht passiert oder der JavaDoc ungenau ist, ist es sehr wahrscheinlich das daraus ein Bug entstehen kann.

IntelliJ kann diese speziellen JavaDoc-Kommentare erkennen und anzeigt, wenn man mit der Maus im Quelltext über einen Aufruf einer Operation fährt.
Außerdem kann man im Quellcode durch \lstinline{Ctrl + Linksklick} auf Operationen oder Klassen zu den Definitionen von diesen gelangen, wo man auch die zugehörige JavaDoc finden sollte.
Letzteres kann man natürlich auch nutzen, um die Funktion einer Operation durch das Lesen des Quellcodes besser zu verstehen.
\end{Infobox}

\begin{enumerate}\setcounter{enumi}{3}
    \item Die Kommandos \lstinline{collectCoin()} und \lstinline{dropCoin()} funktionieren nicht immer.
        Welche Bedingungen müssen stimmen damit du die Kommandos korrekt benutzen kannst und wann funktionieren sie nicht?\\
        \textbf{Tipp}: Überprüfe deine Vermutung auch auf dem Spielfeld.\\
\end{enumerate}
